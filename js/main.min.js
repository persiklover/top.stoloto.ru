"use strict";function num2str(t,o){var e=(t=Math.abs(t)%100)%10;return 10<t&&t<20?o[2]:1<e&&e<5?o[1]:1==e?o[0]:o[2]}var formatNumber=function(t){return(t+"").replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")};function scrollTo(t){$("html, body").animate({scrollTop:$(t).offset().top+"px"},500)}$(function(){$('a[href^="http"]').click(function(t){var o=window.location.search;window.open(this.href+o,this.target)}),$('a[href^="#"]').click(function(t){t.preventDefault(),scrollTo($(this).attr("href"))}),$(".js-logo-top").click(function(){console.log("logo-top"),ga("send","event","button","click","logo-top")}),$(".js-logo-footer").click(function(){console.log("logo-footer"),ga("send","event","button","click","logo-footer")}),$(".js-rsussloto-buy-tickets").click(function(){console.log("js-rsussloto-buy-tickets"),window.innerWidth<768?ga("send","event","button","click","rsussloto-buy-tickets-mob"):ga("send","event","button","click","rsussloto-buy-tickets")}),$(".js-4x20-buy-tickets").click(function(){console.log("js-4x20-buy-tickets"),window.innerWidth<768?ga("send","event","button","click","4x20-buy-tickets-mob"):ga("send","event","button","click","4x20-buy-tickets")}),$(".js-rapido-buy-tickets").click(function(){console.log("js-rapido-buy-tickets"),window.innerWidth<768?ga("send","event","button","click","rapido-buy-tickets-mob"):ga("send","event","button","click","rapido-buy-tickets")}),$(".js-6x45-buy-tickets").click(function(){console.log("js-6x45-buy-tickets"),window.innerWidth<768?ga("send","event","button","click","6x45-buy-tickets-mob"):ga("send","event","button","click","6x45-buy-tickets")}),$(".js-rapido-buy-tickets-2").click(function(){console.log("js-rapido-buy-tickets-2"),window.innerWidth<768?ga("send","event","button","click","rapido-buy-tickets-mob-2"):ga("send","event","button","click","rapido-buy-tickets-2")}),$(".js-rsussloto-buy-tickets-2").click(function(){console.log("js-rsussloto-buy-tickets-2"),window.innerWidth<768?ga("send","event","button","click","rsussloto-buy-tickets-mob-2"):ga("send","event","button","click","rsussloto-buy-tickets-2")}),$(".js-4x20-buy-tickets-2").click(function(){console.log("js-4x20-buy-tickets-2"),window.innerWidth<768?ga("send","event","button","click","4x20-buy-tickets-mob-2"):ga("send","event","button","click","4x20-buy-tickets-2")}),$(".js-6x45-buy-tickets-2").click(function(){console.log("js-6x45-buy-tickets-2"),window.innerWidth<768?ga("send","event","button","click","6x45-buy-tickets-mob-2"):ga("send","event","button","click","6x45-buy-tickets-2")}),$(".js-social-vk").click(function(){ga("send","event","button","click","social-vk")}),$(".js-social-tw").click(function(){ga("send","event","button","click","social-tw")}),$(".js-social-fb").click(function(){ga("send","event","button","click","social-fb")}),$(".js-social-ok").click(function(){ga("send","event","button","click","social-ok")});var e=$(".js-slider");function o(t){0<t.page.index?e.addClass("slider--black"):e.removeClass("slider--black")}$(".slider").addClass("enabled").addClass("owl-carousel").owlCarousel({items:1,margin:1,loop:!0,mouseDrag:!1,dots:!0,nav:!0,navText:["<img src='img/arrow.png' aria-label='Вперед'>","<img src='img/arrow.png' aria-label='Назад'>"],autoHeight:!0,responsive:{0:{},768:{}}}).on("initialized.owl.carousel",function(t){o(t)}).on("changed.owl.carousel",function(t){o(t)}),$(".js-show-info").click(function(t){var o=$(this).attr("data-slide-i").match(/(\d+)/)[0]-1;console.log(o),e.trigger("to.owl.carousel",o)}),$.get({url:"https://api.stoloto.ru/mobile/api/v27/service/games/info-new",success:function(t){function o(t,b){$(t).each(function(t,o){var e=b.draw;$(o).find(".js-super-prize").text(formatNumber(e.superPrize)).attr("aria-label",function(t){for(var o=formatNumber(t).split(" "),e="",n=o.length;n--;){var i=[];o.length-1-n==1?i=["тысяча","тысячи","тысяч"]:o.length-1-n==2?i=["миллион","миллиона","миллионов"]:o.length-1-n==3&&(i=["миллиард","миллиарда","миллиардов"]);var s=+o[n];if(0!=s){if(n==o.length-1)e+=s+e;else e=s+(" "+num2str(s,i)+" ")+e}}return e}(e.superPrize)).next().attr("aria-label",num2str(e.superPrize,["рубль","рубля","рублей"])).attr("title",num2str(e.superPrize,["рубль","рубля","рублей"]));var n=e.betCost;$(o).find(".js-bet-cost").each(function(t,o){$(o).text(n)});var i,s,c,l,a=e.date,u=(i=new Date(1e3*a)-new Date,l=Math.floor(i/1e3),c=Math.floor(l/60),l%=60,s=Math.floor(c/60),c%=60,{day:Math.floor(s/24),hour:s%=24,minute:c,seconds:l});var r=[u.hour,u.minute],d="";0<r[0]&&(d+="".concat(r[0]," ч. ")),0<r[1]&&(d+="".concat(r[1]," мин. ")),""==d&&(d="минуту"),$(o).find(".js-time").text(d)})}o(".js-ruslotto",t.games[5]),o(".js-4x20",t.games[16]),o(".js-rapido",t.games[2]),o(".js-6x45",t.games[0])}})});